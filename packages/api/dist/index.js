"use strict";var p=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var _=Object.getOwnPropertyNames;var l=Object.prototype.hasOwnProperty;var m=(t,e)=>{for(var r in e)p(t,r,{get:e[r],enumerable:!0})},f=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of _(e))!l.call(t,n)&&n!==r&&p(t,n,{get:()=>e[n],enumerable:!(o=g(e,n))||o.enumerable});return t};var k=t=>f(p({},"__esModule",{value:!0}),t);var d=(t,e,r)=>new Promise((o,n)=>{var a=i=>{try{s(r.next(i))}catch(c){n(c)}},h=i=>{try{s(r.throw(i))}catch(c){n(c)}},s=i=>i.done?o(i.value):Promise.resolve(i.value).then(a,h);s((r=r.apply(t,e)).next())});var P={};m(P,{Scope:()=>u,getAccessToken:()=>y,getAuthorizationUrl:()=>x});module.exports=k(P);var u=(e=>(e.Identify="identify",e))(u||{});function x({redirect_uri:t,client_id:e,scopes:r,state:o}){let n=new URLSearchParams({response_type:"code",redirect_uri:t,client_id:e,scope:r.join(" ")});return o&&n.append("state",o),`http://localhost:4000/oauth2/authorize?${n.toString()}`}function y(n){return d(this,arguments,function*({code:t,client_id:e,client_secret:r,redirect_uri:o}){let a=new URLSearchParams({grant_type:"authorization_code",code:t,client_id:e,client_secret:r,redirect_uri:o});return yield fetch("http://localhost:4000/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a}).then(s=>s.json())})}0&&(module.exports={Scope,getAccessToken,getAuthorizationUrl});
