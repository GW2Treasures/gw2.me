"use strict";var p=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var _=(r,t)=>{for(var e in t)p(r,e,{get:t[e],enumerable:!0})},f=(r,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of g(t))!m.call(r,n)&&n!==e&&p(r,n,{get:()=>t[n],enumerable:!(o=l(t,n))||o.enumerable});return r};var k=r=>f(p({},"__esModule",{value:!0}),r);var d=(r,t,e)=>new Promise((o,n)=>{var s=i=>{try{a(e.next(i))}catch(c){n(c)}},h=i=>{try{a(e.throw(i))}catch(c){n(c)}},a=i=>i.done?o(i.value):Promise.resolve(i.value).then(s,h);a((e=e.apply(r,t)).next())});var P={};_(P,{Scope:()=>u,getAccessToken:()=>y,getAuthorizationUrl:()=>x});module.exports=k(P);var u=(e=>(e.Identify="identify",e.Email="email",e))(u||{});function x({redirect_uri:r,client_id:t,scopes:e,state:o}){let n=new URLSearchParams({response_type:"code",redirect_uri:r,client_id:t,scope:e.join(" ")});return o&&n.append("state",o),`http://localhost:4000/oauth2/authorize?${n.toString()}`}function y(n){return d(this,arguments,function*({code:r,client_id:t,client_secret:e,redirect_uri:o}){let s=new URLSearchParams({grant_type:"authorization_code",code:r,client_id:t,client_secret:e,redirect_uri:o});return yield fetch("http://localhost:4000/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}).then(a=>a.json())})}0&&(module.exports={Scope,getAccessToken,getAuthorizationUrl});
